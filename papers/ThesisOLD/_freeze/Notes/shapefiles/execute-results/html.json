{
  "hash": "a5be21098902a1bb06b8dc2a81569cd6",
  "result": {
    "markdown": "---\ntitle: \"Maps and shapefiles in julia\"\nformat: html\n---\n\n::: {.cell execution_count=1}\n``` {.julia .cell-code}\nusing DrWatson\n@quickactivate \"SCI499\"\n```\n:::\n\n\n::: {.cell execution_count=2}\n``` {.julia .cell-code}\nusing Shapefile\n\nASGSdir = joinpath(datadir(),\"ASGS_GDA2020\")\n\n(AUS_SHP,\nGCCSA_SHP,\nMB_SHP,\nSA1_SHP,\nSA2_SHP,\nSA3_SHP,\nSA4_SHP, \nSTE_SHP) = Shapefile.Table.(joinpath.(joinpath(ASGSdir),\n                readdir(ASGSdir),\n                string.(replace.(readdir(ASGSdir), r\"_SHP\" => \"\"),\n                 \".shp\")))\n```\n\n::: {.cell-output .cell-output-display execution_count=3}\n```\n8-element Vector{Shapefile.Table{Union{Missing, Shapefile.Polygon}}}:\n Shapefile.Table{Union{Missing, Shapefile.Polygon}} with 2 rows and the following 7 columns:\n\t\ngeometry, AUS_CODE21, AUS_NAME21, CHG_FLAG21, CHG_LBL21, AREASQKM21, LOCI_URI21\n\n Shapefile.Table{Union{Missing, Shapefile.Polygon}} with 35 rows and the following 11 columns:\n\t\ngeometry, GCC_CODE21, GCC_NAME21, CHG_FLAG21, CHG_LBL21, STE_CODE21, STE_NAME21, AUS_CODE21, AUS_NAME21, AREASQKM21, LOCI_URI21\n\n Shapefile.Table{Union{Missing, Shapefile.Polygon}} with 368286 rows and the following 20 columns:\n\t\ngeometry, MB_CODE21, MB_CAT21, CHG_FLAG21, CHG_LBL21, SA1_CODE21, SA2_CODE21, SA2_NAME21, SA3_CODE21, SA3_NAME21, SA4_CODE21, SA4_NAME21, GCC_CODE21, GCC_NAME21, STE_CODE21, STE_NAME21, AUS_CODE21, AUS_NAME21, AREASQKM21, LOCI_URI21\n\n Shapefile.Table{Union{Missing, Shapefile.Polygon}} with 61845 rows and the following 18 columns:\n\t\ngeometry, SA1_CODE21, CHG_FLAG21, CHG_LBL21, SA2_CODE21, SA2_NAME21, SA3_CODE21, SA3_NAME21, SA4_CODE21, SA4_NAME21, GCC_CODE21, GCC_NAME21, STE_CODE21, STE_NAME21, AUS_CODE21, AUS_NAME21, AREASQKM21, LOCI_URI21\n\n Shapefile.Table{Union{Missing, Shapefile.Polygon}} with 2473 rows and the following 17 columns:\n\t\ngeometry, SA2_CODE21, SA2_NAME21, CHG_FLAG21, CHG_LBL21, SA3_CODE21, SA3_NAME21, SA4_CODE21, SA4_NAME21, GCC_CODE21, GCC_NAME21, STE_CODE21, STE_NAME21, AUS_CODE21, AUS_NAME21, AREASQKM21, LOCI_URI21\n\n Shapefile.Table{Union{Missing, Shapefile.Polygon}} with 359 rows and the following 15 columns:\n\t\ngeometry, SA3_CODE21, SA3_NAME21, CHG_FLAG21, CHG_LBL21, SA4_CODE21, SA4_NAME21, GCC_CODE21, GCC_NAME21, STE_CODE21, STE_NAME21, AUS_CODE21, AUS_NAME21, AREASQKM21, LOCI_URI21\n\n Shapefile.Table{Union{Missing, Shapefile.Polygon}} with 108 rows and the following 13 columns:\n\t\ngeometry, SA4_CODE21, SA4_NAME21, CHG_FLAG21, CHG_LBL21, GCC_CODE21, GCC_NAME21, STE_CODE21, STE_NAME21, AUS_CODE21, AUS_NAME21, AREASQKM21, LOCI_URI21\n\n Shapefile.Table{Union{Missing, Shapefile.Polygon}} with 10 rows and the following 9 columns:\n\t\ngeometry, STE_CODE21, STE_NAME21, CHG_FLAG21, CHG_LBL21, AUS_CODE21, AUS_NAME21, AREASQKM21, LOCI_URI21\n```\n:::\n:::\n\n\nCreate an index of the SA3 regions in the Greater Melbourne GCC\n\n::: {.cell execution_count=3}\n``` {.julia .cell-code}\nusing Tables\n\nGMelb_SA1_SHP,\nGMelb_SA2_SHP,\nGMelb_SA3_SHP,\nSGMelb_A4_SHP = (\n    SA1_SHP,\n    SA2_SHP,\n    SA3_SHP,\n    SA4_SHP) .|>\n     x -> Tables.subset(x, x.GCC_NAME21 .== \"Greater Melbourne\")\n```\n\n::: {.cell-output .cell-output-display execution_count=4}\n```\n(Tables.DictColumnTable with 11487 rows, 18 columns, and schema:\n :geometry    Union{Missing, Shapefile.Polygon}\n :SA1_CODE21  Union{Missing, String}\n :CHG_FLAG21  Union{Missing, String}\n :CHG_LBL21   Union{Missing, String}\n :SA2_CODE21  Union{Missing, String}\n :SA2_NAME21  Union{Missing, String}\n :SA3_CODE21  Union{Missing, String}\n :SA3_NAME21  Union{Missing, String}\n :SA4_CODE21  Union{Missing, String}\n :SA4_NAME21  Union{Missing, String}\n :GCC_CODE21  Union{Missing, String}\n :GCC_NAME21  Union{Missing, String}\n :STE_CODE21  Union{Missing, String}\n :STE_NAME21  Union{Missing, String}\n :AUS_CODE21  Union{Missing, String}\n :AUS_NAME21  Union{Missing, String}\n :AREASQKM21  Union{Missing, Float64}\n :LOCI_URI21  Union{Missing, String}, Tables.DictColumnTable with 361 rows, 17 columns, and schema:\n :geometry    Union{Missing, Shapefile.Polygon}\n :SA2_CODE21  Union{Missing, String}\n :SA2_NAME21  Union{Missing, String}\n :CHG_FLAG21  Union{Missing, String}\n :CHG_LBL21   Union{Missing, String}\n :SA3_CODE21  Union{Missing, String}\n :SA3_NAME21  Union{Missing, String}\n :SA4_CODE21  Union{Missing, String}\n :SA4_NAME21  Union{Missing, String}\n :GCC_CODE21  Union{Missing, String}\n :GCC_NAME21  Union{Missing, String}\n :STE_CODE21  Union{Missing, String}\n :STE_NAME21  Union{Missing, String}\n :AUS_CODE21  Union{Missing, String}\n :AUS_NAME21  Union{Missing, String}\n :AREASQKM21  Union{Missing, Float64}\n :LOCI_URI21  Union{Missing, String}, Tables.DictColumnTable with 40 rows, 15 columns, and schema:\n :geometry    Union{Missing, Shapefile.Polygon}\n :SA3_CODE21  Union{Missing, String}\n :SA3_NAME21  Union{Missing, String}\n :CHG_FLAG21  Union{Missing, String}\n :CHG_LBL21   Union{Missing, String}\n :SA4_CODE21  Union{Missing, String}\n :SA4_NAME21  Union{Missing, String}\n :GCC_CODE21  Union{Missing, String}\n :GCC_NAME21  Union{Missing, String}\n :STE_CODE21  Union{Missing, String}\n :STE_NAME21  Union{Missing, String}\n :AUS_CODE21  Union{Missing, String}\n :AUS_NAME21  Union{Missing, String}\n :AREASQKM21  Union{Missing, Float64}\n :LOCI_URI21  Union{Missing, String}, Tables.DictColumnTable with 9 rows, 13 columns, and schema:\n :geometry    Union{Missing, Shapefile.Polygon}\n :SA4_CODE21  Union{Missing, String}\n :SA4_NAME21  Union{Missing, String}\n :CHG_FLAG21  Union{Missing, String}\n :CHG_LBL21   Union{Missing, String}\n :GCC_CODE21  Union{Missing, String}\n :GCC_NAME21  Union{Missing, String}\n :STE_CODE21  Union{Missing, String}\n :STE_NAME21  Union{Missing, String}\n :AUS_CODE21  Union{Missing, String}\n :AUS_NAME21  Union{Missing, String}\n :AREASQKM21  Union{Missing, Float64}\n :LOCI_URI21  Union{Missing, String})\n```\n:::\n:::\n\n\n::: {.cell execution_count=4}\n``` {.julia .cell-code}\nusing Plots\nGMelb_SA1_SHP.geometry |> plot\n```\n\n::: {.cell-output .cell-output-display execution_count=5}\n![](shapefiles_files/figure-html/cell-5-output-1.svg){}\n:::\n:::\n\n\n",
    "supporting": [
      "shapefiles_files\\figure-html"
    ],
    "filters": [],
    "includes": {}
  }
}