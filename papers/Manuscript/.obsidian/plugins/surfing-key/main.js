/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// surfingKeyIndex.ts
var surfingKeyIndex_exports = {};
__export(surfingKeyIndex_exports, {
  SurfingKeyModal: () => SurfingKeyModal,
  default: () => SurfingKeyPlugin2
});
module.exports = __toCommonJS(surfingKeyIndex_exports);
var import_obsidian2 = require("obsidian");

// surfingKey.ts
var import_obsidian = require("obsidian");
var UniqueStrings = class {
  constructor() {
    this.usedStrings = /* @__PURE__ */ new Set();
    this.twoCharIndex = 0;
    this.threeCharIndex = 0;
    this.threeCharFirstIndex = 0;
    this.characters = "QWERTASDFGZXCVB";
    this.usedChars = /* @__PURE__ */ new Set();
  }
  findUnusedChar() {
    let result = "";
    let usedCharsArray = Array.from(this.usedChars);
    for (let i = 0; i < this.characters.length; i++) {
      if (!usedCharsArray.includes(this.characters.charAt(i))) {
        result = this.characters.charAt(i);
        break;
      }
    }
    return result;
  }
  generateUniqueString() {
    let result = "";
    if (this.usedStrings.size < 210) {
      if (this.twoCharIndex >= this.characters.length * this.characters.length - 15) {
        throw new Error("All possible two character strings have been generated!");
      }
      do {
        let firstChar = this.characters.charAt(Math.floor(this.twoCharIndex / this.characters.length));
        this.usedChars.add(firstChar);
        let secondChar = this.characters.charAt(this.twoCharIndex % this.characters.length);
        result = firstChar + secondChar;
        this.twoCharIndex++;
      } while (this.usedStrings.has(result));
    } else {
      if (this.usedStrings.size >= 210 + 225) {
        throw new Error("All possible strings have been generated!");
      }
      if (this.threeCharFirstIndex >= 225) {
        throw new Error("All possible three character strings have been generated!");
      }
      do {
        let firstChar = this.findUnusedChar();
        let secondChar = this.characters.charAt(Math.floor(this.threeCharIndex / this.characters.length));
        let thirdChar = this.characters.charAt(this.threeCharIndex % this.characters.length);
        result = firstChar + secondChar + thirdChar;
        this.threeCharIndex++;
        if (this.threeCharIndex >= this.characters.length * this.characters.length) {
          this.threeCharIndex = 0;
          this.threeCharFirstIndex++;
        }
      } while (this.usedStrings.has(result));
    }
    this.usedStrings.add(result);
    return result;
  }
};
var ElementMonitor = class {
  constructor(doc, cb, plugin) {
    this.elementsWithUniqueStrings = /* @__PURE__ */ new Map();
    this.keydownHandler = null;
    this.removed = false;
    this.doc = doc;
    this.plugin = plugin;
    this.uniqueStrings = new UniqueStrings();
    this.overlay = this.createOverlay();
    this.cb = cb;
  }
  createOverlay() {
    this.modal = new SurfingKeyModal(app, this.plugin, this);
    this.modal.open();
    this.modal.containerEl.empty();
    const overlay = this.modal.containerEl;
    overlay.addClasses(["surfing-key-overlay"]);
    overlay.createDiv({
      cls: "inputDisplay",
      attr: {
        id: "inputDisplay"
      }
    });
    return overlay;
  }
  isElementInViewport(el) {
    const rect = el.getBoundingClientRect();
    return rect.top >= 0 && rect.left >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && rect.right <= (window.innerWidth || document.documentElement.clientWidth);
  }
  attachStringsToElements() {
    const rules = [
      (child) => {
        var _a, _b;
        return child instanceof SVGSVGElement && !((_a = child.classList) == null ? void 0 : _a.contains("canvas-background")) && !((_b = child.classList) == null ? void 0 : _b.contains("canvas-edges")) ? true : null;
      },
      (child) => child instanceof HTMLInputElement && child.type === "checkbox" ? true : null,
      (child) => {
        var _a;
        return ((_a = child.classList) == null ? void 0 : _a.contains("canvas-node-label")) ? false : null;
      },
      (child) => {
        var _a;
        return ((_a = child.classList) == null ? void 0 : _a.contains("canvas-node-container")) ? true : null;
      }
    ];
    const processQueue = (queue) => {
      var _a, _b;
      if (!queue.length)
        return;
      const element = queue.shift();
      if (!element) {
        processQueue(queue);
        return;
      }
      const pushChildren = (child) => {
        var _a2;
        if (child instanceof Element) {
          const style = window.getComputedStyle(child);
          if (style.display === "none") {
            return false;
          }
        }
        queue.push(child);
        for (const rule of rules) {
          const result = rule(child);
          if (result !== null) {
            return result;
          }
        }
        return !!(child.nodeType === Node.TEXT_NODE && ((_a2 = child.textContent) == null ? void 0 : _a2.trim()) && child.textContent !== "/");
      };
      const hasSvgOrTextContentChild = (Array.from(element.childNodes).some(pushChildren) || ((_a = element.classList) == null ? void 0 : _a.contains("canvas-color-picker-item")) || element instanceof HTMLInputElement && element.type === "search" || element instanceof HTMLSelectElement) && !((_b = element == null ? void 0 : element.classList) == null ? void 0 : _b.contains("canvas-icon-placeholder"));
      if (hasSvgOrTextContentChild) {
        const style = window.getComputedStyle(element);
        if (style.display !== "none" && this.isElementInViewport(element)) {
          const elementPosition = element.getBoundingClientRect();
          if (elementPosition.top !== 0 || elementPosition.left !== 0) {
            const uniqueString = this.uniqueStrings.generateUniqueString();
            this.elementsWithUniqueStrings.set(uniqueString, element);
            const stringElement = this.overlay.createEl("span", {
              cls: "surfing-key-string",
              attr: {
                id: uniqueString
              }
            });
            stringElement.textContent = uniqueString;
            const midPointX = elementPosition.left + elementPosition.width / 2;
            const midPointY = elementPosition.top + elementPosition.height / 2;
            const stringElementRect = stringElement.getBoundingClientRect();
            const overlayRect = this.overlay.getBoundingClientRect();
            const stringWidth = stringElementRect.width;
            const stringHeight = stringElementRect.height;
            const rightPosition = midPointX + stringWidth / 2;
            const bottomPosition = midPointY + stringHeight / 2;
            if (rightPosition > overlayRect.right) {
              stringElement.style.left = `${midPointX - stringWidth}px`;
            } else {
              stringElement.style.left = `${midPointX}px`;
            }
            if (bottomPosition > overlayRect.bottom) {
              stringElement.style.top = `${midPointY - stringHeight}px`;
            } else if (midPointY + stringHeight / 2 > overlayRect.bottom) {
              stringElement.style.top = `${midPointY - stringHeight}px`;
            } else {
              stringElement.style.top = `${midPointY - 2}px`;
            }
          }
        }
      }
      processQueue(queue);
    };
    processQueue([this.doc instanceof Document ? this.doc.documentElement : this.doc]);
  }
  monitorUserInput() {
    const inputQueue = [];
    let isTickPressed = false;
    this.keydownHandler = (e) => {
      var _a, _b;
      if (!this.overlay)
        return;
      e.stopPropagation();
      e.preventDefault();
      if (e.key === "Escape") {
        this.removeOverlay();
        return;
      }
      if (import_obsidian.Keymap.isModifier(e, "Mod") || import_obsidian.Keymap.isModifier(e, "Shift") || import_obsidian.Keymap.isModifier(e, "Alt")) {
        return;
      }
      if (e.key === "`") {
        isTickPressed = true;
        return;
      }
      if (!/^[qwertasdfgzxcvbQWERTASDFGZXCVB]$/i.test(e.key)) {
        if (e.key === "Backspace" || e.key === "Delete") {
          inputQueue.pop();
          isTickPressed = false;
          const inputDisplay2 = this.overlay.querySelector("#inputDisplay");
          if (inputDisplay2) {
            inputDisplay2.textContent = inputQueue.join("");
          }
          for (const [uniqueString, _] of this.elementsWithUniqueStrings.entries()) {
            const stringElement = document.getElementById(uniqueString);
            stringElement == null ? void 0 : stringElement.show();
          }
        }
        return;
      }
      const input = e.key.toUpperCase();
      if (inputQueue.length >= 2 && this.uniqueStrings.usedChars.has(inputQueue.join("")[0])) {
        inputQueue.shift();
      } else if (inputQueue.length >= 3) {
        inputQueue.shift();
      }
      inputQueue.push(input);
      const inputDisplay = this.overlay.querySelector("#inputDisplay");
      if (inputDisplay) {
        inputDisplay.textContent = inputQueue.join("");
      }
      const inputString = inputQueue.join("");
      for (const [uniqueString, _] of this.elementsWithUniqueStrings.entries()) {
        const stringElement = document.getElementById(uniqueString);
        if (stringElement && ((_a = stringElement.textContent) == null ? void 0 : _a.startsWith(inputString))) {
          stringElement.style.backgroundColor = "yellow";
          stringElement.style.color = "black";
        } else {
          stringElement == null ? void 0 : stringElement.hide();
        }
      }
      if (this.elementsWithUniqueStrings.has(inputString)) {
        let elementToClick = this.elementsWithUniqueStrings.get(inputString);
        if (elementToClick instanceof SVGSVGElement && elementToClick.parentElement) {
          elementToClick = elementToClick.parentElement;
        }
        this.removeOverlay();
        if (isTickPressed) {
          elementToClick == null ? void 0 : elementToClick.dispatchEvent(new MouseEvent("contextmenu", { bubbles: true, clientX: elementToClick.getBoundingClientRect().left + elementToClick.clientWidth / 2, clientY: elementToClick.getBoundingClientRect().top + elementToClick.clientHeight / 2 }));
        } else {
          elementToClick == null ? void 0 : elementToClick.dispatchEvent(new MouseEvent("click", { bubbles: true }));
          if (elementToClick instanceof HTMLInputElement) {
            if (document && document.activeElement !== elementToClick) {
              (_b = document.activeElement) == null ? void 0 : _b.blur();
            }
            setTimeout(() => {
              elementToClick == null ? void 0 : elementToClick.focus();
            }, 0);
          }
        }
        isTickPressed = false;
      }
    };
    window.addEventListener("keydown", this.keydownHandler, true);
  }
  init() {
    this.attachStringsToElements();
    this.monitorUserInput();
  }
  removeOverlay() {
    if (this.modal && !this.removed) {
      this.removed = true;
      this.cb();
      setTimeout(() => {
        this.modal.close();
      }, 0);
    }
    if (this.keydownHandler) {
      window.removeEventListener("keydown", this.keydownHandler, true);
      this.keydownHandler = null;
    }
  }
};

// surfingKeyIndex.ts
var SurfingKeyPlugin2 = class extends import_obsidian2.Plugin {
  constructor() {
    super(...arguments);
    this.documentMonitor = null;
    this.lastKeypressTime = 0;
    this.keyComboPressed = false;
  }
  async onload() {
    this.addCommand({
      id: "surfing-obsidian",
      name: "Surfing Obsidian",
      callback: () => {
        if (!this.documentMonitor) {
          this.documentMonitor = new ElementMonitor(activeDocument, () => {
            this.documentMonitor = null;
          }, this);
          this.documentMonitor.init();
        }
      }
    });
    this.registerDomEvent(window, "keydown", (event) => {
      let focusedElement = activeDocument;
      if (!activeDocument.querySelector(".modal-container")) {
        return;
      } else {
        focusedElement = activeDocument.querySelector(".modal-container");
      }
      if (import_obsidian2.Keymap.isModEvent(event) && event.key === "g") {
        const currentTime = new Date().getTime();
        if (currentTime - this.lastKeypressTime <= 1e3) {
          if (!this.keyComboPressed) {
            if (!this.documentMonitor) {
              this.documentMonitor = new ElementMonitor(focusedElement, () => {
                this.documentMonitor = null;
              }, this);
              this.documentMonitor.init();
            }
            this.keyComboPressed = true;
          }
        } else {
          this.keyComboPressed = false;
        }
        this.lastKeypressTime = currentTime;
        setTimeout(() => {
          this.keyComboPressed = false;
        }, 1e3);
      }
    });
  }
  onunload() {
    if (this.documentMonitor) {
      this.documentMonitor.removeOverlay();
    }
  }
};
var SurfingKeyModal = class extends import_obsidian2.Modal {
  constructor(app2, plugin, elementMonitor) {
    super(app2);
    this.app = app2;
    this.plugin = plugin;
    this.elementMonitor = elementMonitor;
  }
  onOpen() {
    this.containerEl.addEventListener("click", () => {
      this.close();
    });
  }
  onClose() {
    this.containerEl.empty();
    if (!this.elementMonitor.removed) {
      this.elementMonitor.removeOverlay();
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3VyZmluZ0tleUluZGV4LnRzIiwgInN1cmZpbmdLZXkudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7QXBwLCBLZXltYXAsIE1vZGFsLCBQbHVnaW59IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCBFbGVtZW50TW9uaXRvciBmcm9tIFwiLi9zdXJmaW5nS2V5XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN1cmZpbmdLZXlQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXHRkb2N1bWVudE1vbml0b3I6IEVsZW1lbnRNb25pdG9yIHwgbnVsbCA9IG51bGw7XG5cdHByaXZhdGUgbGFzdEtleXByZXNzVGltZSA9IDA7XG5cdHByaXZhdGUga2V5Q29tYm9QcmVzc2VkID0gZmFsc2U7XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ3N1cmZpbmctb2JzaWRpYW4nLFxuXHRcdFx0bmFtZTogJ1N1cmZpbmcgT2JzaWRpYW4nLFxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0aWYoIXRoaXMuZG9jdW1lbnRNb25pdG9yKSB7XG5cdFx0XHRcdFx0dGhpcy5kb2N1bWVudE1vbml0b3IgPSBuZXcgRWxlbWVudE1vbml0b3IoYWN0aXZlRG9jdW1lbnQsICgpPT57XG5cdFx0XHRcdFx0XHR0aGlzLmRvY3VtZW50TW9uaXRvciA9IG51bGw7XG5cdFx0XHRcdFx0fSwgdGhpcyk7XG5cdFx0XHRcdFx0dGhpcy5kb2N1bWVudE1vbml0b3IuaW5pdCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHR0aGlzLnJlZ2lzdGVyRG9tRXZlbnQod2luZG93LCAna2V5ZG93bicsIChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuXHRcdFx0bGV0IGZvY3VzZWRFbGVtZW50OiBEb2N1bWVudCB8IEhUTUxFbGVtZW50ID0gYWN0aXZlRG9jdW1lbnQ7XG5cdFx0XHRpZighYWN0aXZlRG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWNvbnRhaW5lcicpKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZvY3VzZWRFbGVtZW50ID0gYWN0aXZlRG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWNvbnRhaW5lcicpIGFzIEhUTUxFbGVtZW50O1xuXHRcdFx0fVxuXHRcdFx0aWYgKEtleW1hcC5pc01vZEV2ZW50KGV2ZW50KSAmJiBldmVudC5rZXkgPT09ICdnJykge1xuXHRcdFx0XHRjb25zdCBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG5cdFx0XHRcdC8vIENoZWNrIGlmIHRoZSBsYXN0IGtleXByZXNzIHdhcyBsZXNzIHRoYW4gMTAwMG1zIGFnb1xuXHRcdFx0XHRpZiAoY3VycmVudFRpbWUgLSB0aGlzLmxhc3RLZXlwcmVzc1RpbWUgPD0gMTAwMCkge1xuXHRcdFx0XHRcdGlmICghdGhpcy5rZXlDb21ib1ByZXNzZWQpIHtcblx0XHRcdFx0XHRcdGlmKCF0aGlzLmRvY3VtZW50TW9uaXRvcikge1xuXHRcdFx0XHRcdFx0XHR0aGlzLmRvY3VtZW50TW9uaXRvciA9IG5ldyBFbGVtZW50TW9uaXRvcihmb2N1c2VkRWxlbWVudCwoKT0+e1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuZG9jdW1lbnRNb25pdG9yID0gbnVsbDtcblx0XHRcdFx0XHRcdFx0fSwgdGhpcyk7XG5cdFx0XHRcdFx0XHRcdHRoaXMuZG9jdW1lbnRNb25pdG9yLmluaXQoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHRoaXMua2V5Q29tYm9QcmVzc2VkID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5rZXlDb21ib1ByZXNzZWQgPSBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMubGFzdEtleXByZXNzVGltZSA9IGN1cnJlbnRUaW1lO1xuXG5cdFx0XHRcdC8vIFNldCBrZXlDb21ib1ByZXNzZWQgYmFjayB0byBmYWxzZSBhZnRlciAxIHNlY29uZCwgcmVnYXJkbGVzcyBvZiBpdHMgY3VycmVudCB2YWx1ZVxuXHRcdFx0XHRzZXRUaW1lb3V0KCgpPT57XG5cdFx0XHRcdFx0dGhpcy5rZXlDb21ib1ByZXNzZWQgPSBmYWxzZTtcblx0XHRcdFx0fSwgMTAwMCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblx0XHRpZiAodGhpcy5kb2N1bWVudE1vbml0b3IpIHtcblx0XHRcdHRoaXMuZG9jdW1lbnRNb25pdG9yLnJlbW92ZU92ZXJsYXkoKTtcblx0XHR9XG5cdH1cbn1cblxuXG5leHBvcnQgY2xhc3MgU3VyZmluZ0tleU1vZGFsIGV4dGVuZHMgTW9kYWwge1xuXHRwcml2YXRlIHBsdWdpbjogU3VyZmluZ0tleVBsdWdpbjtcblx0cHJpdmF0ZSBlbGVtZW50TW9uaXRvcjogRWxlbWVudE1vbml0b3I7XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogU3VyZmluZ0tleVBsdWdpbiwgZWxlbWVudE1vbml0b3I6IEVsZW1lbnRNb25pdG9yKSB7XG5cdFx0c3VwZXIoYXBwKTtcblxuXHRcdHRoaXMuYXBwID0gYXBwO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHRcdHRoaXMuZWxlbWVudE1vbml0b3IgPSBlbGVtZW50TW9uaXRvcjtcblx0fVxuXG5cdG9uT3BlbigpIHtcblx0XHR0aGlzLmNvbnRhaW5lckVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9Pntcblx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHR9KVxuXHR9XG5cblx0b25DbG9zZSgpIHtcblx0XHR0aGlzLmNvbnRhaW5lckVsLmVtcHR5KCk7XG5cdFx0aWYgKCF0aGlzLmVsZW1lbnRNb25pdG9yLnJlbW92ZWQpIHsgLy8gXHU2REZCXHU1MkEwXHU2NzYxXHU0RUY2XHU2OEMwXHU2N0U1XHVGRjBDXHU1OTgyXHU2NzlDXHU1REYyXHU3RUNGXHU3OUZCXHU5NjY0XHU1QzMxXHU0RTBEXHU1MThEXHU4QzAzXHU3NTI4cmVtb3ZlT3ZlcmxheVxuXHRcdFx0dGhpcy5lbGVtZW50TW9uaXRvci5yZW1vdmVPdmVybGF5KCk7XG5cdFx0fVxuXHR9XG59XG4iLCAiaW1wb3J0IHsgS2V5bWFwIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgU3VyZmluZ0tleVBsdWdpbiwge1N1cmZpbmdLZXlNb2RhbH0gZnJvbSBcIi4vc3VyZmluZ0tleUluZGV4XCI7XG5cbmNsYXNzIFVuaXF1ZVN0cmluZ3Mge1xuXHRwcml2YXRlIHVzZWRTdHJpbmdzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcblx0cHJpdmF0ZSB0d29DaGFySW5kZXg6IG51bWJlciA9IDA7XG5cdHByaXZhdGUgdGhyZWVDaGFySW5kZXg6IG51bWJlciA9IDA7XG5cdHByaXZhdGUgdGhyZWVDaGFyRmlyc3RJbmRleDogbnVtYmVyID0gMDtcblx0cHJpdmF0ZSBjaGFyYWN0ZXJzID0gXCJRV0VSVEFTREZHWlhDVkJcIjtcblxuXHRwdWJsaWMgdXNlZENoYXJzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcblxuXG5cdHByaXZhdGUgZmluZFVudXNlZENoYXIoKTogc3RyaW5nIHtcblx0XHRsZXQgcmVzdWx0ID0gXCJcIjtcblx0XHRsZXQgdXNlZENoYXJzQXJyYXkgPSBBcnJheS5mcm9tKHRoaXMudXNlZENoYXJzKTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hhcmFjdGVycy5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKCF1c2VkQ2hhcnNBcnJheS5pbmNsdWRlcyh0aGlzLmNoYXJhY3RlcnMuY2hhckF0KGkpKSkge1xuXHRcdFx0XHRyZXN1bHQgPSB0aGlzLmNoYXJhY3RlcnMuY2hhckF0KGkpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdGdlbmVyYXRlVW5pcXVlU3RyaW5nKCk6IHN0cmluZyB7XG5cdFx0bGV0IHJlc3VsdCA9IFwiXCI7XG5cblx0XHRpZiAodGhpcy51c2VkU3RyaW5ncy5zaXplIDwgMjEwKSB7XG5cdFx0XHRpZiAodGhpcy50d29DaGFySW5kZXggPj0gdGhpcy5jaGFyYWN0ZXJzLmxlbmd0aCAqIHRoaXMuY2hhcmFjdGVycy5sZW5ndGggLSAxNSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJBbGwgcG9zc2libGUgdHdvIGNoYXJhY3RlciBzdHJpbmdzIGhhdmUgYmVlbiBnZW5lcmF0ZWQhXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHRkbyB7XG5cdFx0XHRcdGxldCBmaXJzdENoYXIgPSB0aGlzLmNoYXJhY3RlcnMuY2hhckF0KE1hdGguZmxvb3IodGhpcy50d29DaGFySW5kZXggLyB0aGlzLmNoYXJhY3RlcnMubGVuZ3RoKSk7XG5cdFx0XHRcdHRoaXMudXNlZENoYXJzLmFkZChmaXJzdENoYXIpO1xuXHRcdFx0XHRsZXQgc2Vjb25kQ2hhciA9IHRoaXMuY2hhcmFjdGVycy5jaGFyQXQodGhpcy50d29DaGFySW5kZXggJSB0aGlzLmNoYXJhY3RlcnMubGVuZ3RoKTtcblx0XHRcdFx0cmVzdWx0ID0gZmlyc3RDaGFyICsgc2Vjb25kQ2hhcjtcblx0XHRcdFx0dGhpcy50d29DaGFySW5kZXgrKztcblx0XHRcdH0gd2hpbGUgKHRoaXMudXNlZFN0cmluZ3MuaGFzKHJlc3VsdCkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAodGhpcy51c2VkU3RyaW5ncy5zaXplID49IDIxMCArIDIyNSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJBbGwgcG9zc2libGUgc3RyaW5ncyBoYXZlIGJlZW4gZ2VuZXJhdGVkIVwiKTtcblx0XHRcdH1cblx0XHRcdGlmICh0aGlzLnRocmVlQ2hhckZpcnN0SW5kZXggPj0gMjI1KSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIkFsbCBwb3NzaWJsZSB0aHJlZSBjaGFyYWN0ZXIgc3RyaW5ncyBoYXZlIGJlZW4gZ2VuZXJhdGVkIVwiKTtcblx0XHRcdH1cblx0XHRcdGRvIHtcblx0XHRcdFx0bGV0IGZpcnN0Q2hhciA9IHRoaXMuZmluZFVudXNlZENoYXIoKTtcblx0XHRcdFx0bGV0IHNlY29uZENoYXIgPSB0aGlzLmNoYXJhY3RlcnMuY2hhckF0KE1hdGguZmxvb3IodGhpcy50aHJlZUNoYXJJbmRleCAvIHRoaXMuY2hhcmFjdGVycy5sZW5ndGgpKTtcblx0XHRcdFx0bGV0IHRoaXJkQ2hhciA9IHRoaXMuY2hhcmFjdGVycy5jaGFyQXQodGhpcy50aHJlZUNoYXJJbmRleCAlIHRoaXMuY2hhcmFjdGVycy5sZW5ndGgpO1xuXG5cdFx0XHRcdHJlc3VsdCA9IGZpcnN0Q2hhciArIHNlY29uZENoYXIgKyB0aGlyZENoYXI7XG5cblx0XHRcdFx0dGhpcy50aHJlZUNoYXJJbmRleCsrO1xuXHRcdFx0XHRpZiAodGhpcy50aHJlZUNoYXJJbmRleCA+PSB0aGlzLmNoYXJhY3RlcnMubGVuZ3RoICogdGhpcy5jaGFyYWN0ZXJzLmxlbmd0aCkge1xuXHRcdFx0XHRcdHRoaXMudGhyZWVDaGFySW5kZXggPSAwO1xuXHRcdFx0XHRcdHRoaXMudGhyZWVDaGFyRmlyc3RJbmRleCsrO1xuXHRcdFx0XHR9XG5cdFx0XHR9IHdoaWxlICh0aGlzLnVzZWRTdHJpbmdzLmhhcyhyZXN1bHQpKTtcblx0XHR9XG5cblx0XHR0aGlzLnVzZWRTdHJpbmdzLmFkZChyZXN1bHQpO1xuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWxlbWVudE1vbml0b3Ige1xuXHRwcml2YXRlIHBsdWdpbjogU3VyZmluZ0tleVBsdWdpbjtcblx0cHJpdmF0ZSBtb2RhbDogU3VyZmluZ0tleU1vZGFsO1xuXG5cdHByaXZhdGUgZG9jOiBEb2N1bWVudCB8IEhUTUxFbGVtZW50O1xuXHRwcml2YXRlIG92ZXJsYXk6IEhUTUxFbGVtZW50O1xuXHRwcml2YXRlIHVuaXF1ZVN0cmluZ3M6IFVuaXF1ZVN0cmluZ3M7XG5cdHByaXZhdGUgZWxlbWVudHNXaXRoVW5pcXVlU3RyaW5nczogTWFwPHN0cmluZywgRWxlbWVudD4gPSBuZXcgTWFwKCk7XG5cdHByaXZhdGUga2V5ZG93bkhhbmRsZXI6ICgoZTogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcblxuXHRyZW1vdmVkOiBib29sZWFuID0gZmFsc2U7XG5cblx0cHJpdmF0ZSBjYjogKCk9PiB2b2lkO1xuXG5cblx0Y29uc3RydWN0b3IoZG9jOiBEb2N1bWVudCB8IEhUTUxFbGVtZW50LCBjYjogKCk9PiB2b2lkLCBwbHVnaW46IFN1cmZpbmdLZXlQbHVnaW4pIHtcblx0XHR0aGlzLmRvYyA9IGRvYztcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0XHR0aGlzLnVuaXF1ZVN0cmluZ3MgPSBuZXcgVW5pcXVlU3RyaW5ncygpO1xuXHRcdHRoaXMub3ZlcmxheSA9IHRoaXMuY3JlYXRlT3ZlcmxheSgpO1xuXHRcdHRoaXMuY2IgPSBjYjtcblx0fVxuXG5cdHByaXZhdGUgY3JlYXRlT3ZlcmxheSgpOiBIVE1MRWxlbWVudCB7XG5cdFx0dGhpcy5tb2RhbCA9IG5ldyBTdXJmaW5nS2V5TW9kYWwoYXBwLCB0aGlzLnBsdWdpbiwgdGhpcyk7XG5cdFx0dGhpcy5tb2RhbC5vcGVuKCk7XG5cdFx0dGhpcy5tb2RhbC5jb250YWluZXJFbC5lbXB0eSgpO1xuXHRcdGNvbnN0IG92ZXJsYXkgPSB0aGlzLm1vZGFsLmNvbnRhaW5lckVsO1xuXHRcdG92ZXJsYXkuYWRkQ2xhc3NlcyhbJ3N1cmZpbmcta2V5LW92ZXJsYXknXSk7XG5cblx0XHRvdmVybGF5LmNyZWF0ZURpdih7XG5cdFx0XHRjbHM6ICdpbnB1dERpc3BsYXknLFxuXHRcdFx0YXR0cjoge1xuXHRcdFx0XHRpZDogJ2lucHV0RGlzcGxheScsXG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0cmV0dXJuIG92ZXJsYXk7XG5cdH1cblxuXHRwcml2YXRlIGlzRWxlbWVudEluVmlld3BvcnQoZWw6IEVsZW1lbnQpOiBib29sZWFuIHtcblx0XHRjb25zdCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0cmV0dXJuIChcblx0XHRcdHJlY3QudG9wID49IDAgJiZcblx0XHRcdHJlY3QubGVmdCA+PSAwICYmXG5cdFx0XHRyZWN0LmJvdHRvbSA8PSAod2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpICYmXG5cdFx0XHRyZWN0LnJpZ2h0IDw9ICh3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpXG5cdFx0KTtcblx0fVxuXG5cdGF0dGFjaFN0cmluZ3NUb0VsZW1lbnRzKCk6IHZvaWQge1xuXG5cdFx0Y29uc3QgcnVsZXMgPSBbXG5cdFx0XHQoY2hpbGQ6IEhUTUxFbGVtZW50KSA9PiBjaGlsZCBpbnN0YW5jZW9mIFNWR1NWR0VsZW1lbnQgJiYgIWNoaWxkLmNsYXNzTGlzdD8uY29udGFpbnMoJ2NhbnZhcy1iYWNrZ3JvdW5kJykgJiYgIWNoaWxkLmNsYXNzTGlzdD8uY29udGFpbnMoJ2NhbnZhcy1lZGdlcycpID8gdHJ1ZSA6IG51bGwsXG5cdFx0XHQoY2hpbGQ6IEhUTUxFbGVtZW50KSA9PiBjaGlsZCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgJiYgY2hpbGQudHlwZSA9PT0gXCJjaGVja2JveFwiID8gdHJ1ZSA6IG51bGwsXG5cdFx0XHQoY2hpbGQ6IEhUTUxFbGVtZW50KSA9PiBjaGlsZC5jbGFzc0xpc3Q/LmNvbnRhaW5zKCdjYW52YXMtbm9kZS1sYWJlbCcpID8gZmFsc2UgOiBudWxsLFxuXHRcdFx0KGNoaWxkOiBIVE1MRWxlbWVudCkgPT4gY2hpbGQuY2xhc3NMaXN0Py5jb250YWlucygnY2FudmFzLW5vZGUtY29udGFpbmVyJykgPyB0cnVlIDogbnVsbCxcblx0XHRcdC8vIEFkZCBtb3JlIHJ1bGVzIGFzIG5lZWRlZC4uLlxuXHRcdF07XG5cdFx0Y29uc3QgcHJvY2Vzc1F1ZXVlID0gKHF1ZXVlOiBIVE1MRWxlbWVudFtdKSA9PiB7XG5cdFx0XHRpZiAoIXF1ZXVlLmxlbmd0aCkgcmV0dXJuO1xuXHRcdFx0Y29uc3QgZWxlbWVudCA9IHF1ZXVlLnNoaWZ0KCk7XG5cdFx0XHRpZiAoIWVsZW1lbnQpIHtcblx0XHRcdFx0cHJvY2Vzc1F1ZXVlKHF1ZXVlKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBwdXNoQ2hpbGRyZW4gPSAoY2hpbGQ6IEhUTUxFbGVtZW50KSA9PiB7XG5cdFx0XHRcdC8vIEdldCBjb21wdXRlZCBzdHlsZSBvZiB0aGUgY2hpbGRcblx0XHRcdFx0aWYgKGNoaWxkIGluc3RhbmNlb2YgRWxlbWVudCkge1xuXHRcdFx0XHRcdGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoY2hpbGQgYXMgRWxlbWVudCk7XG5cdFx0XHRcdFx0Ly8gSWdub3JlIGlmIHRoZSBkaXNwbGF5IHByb3BlcnR5IGlzIFwibm9uZVwiXG5cdFx0XHRcdFx0aWYgKHN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cXVldWUucHVzaChjaGlsZCk7XG5cblx0XHRcdFx0Zm9yIChjb25zdCBydWxlIG9mIHJ1bGVzKSB7XG5cdFx0XHRcdFx0Y29uc3QgcmVzdWx0ID0gcnVsZShjaGlsZCk7XG5cdFx0XHRcdFx0aWYgKHJlc3VsdCAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBEZWZhdWx0IHJldHVybiB2YWx1ZSBpZiBubyBydWxlcyBtYXRjaGVkXG5cdFx0XHRcdHJldHVybiAhIShjaGlsZC5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUgJiYgY2hpbGQudGV4dENvbnRlbnQ/LnRyaW0oKSAmJiBjaGlsZC50ZXh0Q29udGVudCAhPT0gXCIvXCIpO1xuXHRcdFx0fTtcblxuXG5cdFx0XHRjb25zdCBoYXNTdmdPclRleHRDb250ZW50Q2hpbGQgPSAoQXJyYXkuZnJvbShlbGVtZW50LmNoaWxkTm9kZXMpLnNvbWUocHVzaENoaWxkcmVuKSB8fCBlbGVtZW50LmNsYXNzTGlzdD8uY29udGFpbnMoJ2NhbnZhcy1jb2xvci1waWNrZXItaXRlbScpIHx8IChlbGVtZW50IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCAmJiBlbGVtZW50LnR5cGUgPT09IFwic2VhcmNoXCIpIHx8IChlbGVtZW50IGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQpKSAmJiAhZWxlbWVudD8uY2xhc3NMaXN0Py5jb250YWlucygnY2FudmFzLWljb24tcGxhY2Vob2xkZXInKTtcblx0XHRcdGlmIChoYXNTdmdPclRleHRDb250ZW50Q2hpbGQpIHtcblx0XHRcdFx0Y29uc3Qgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcblx0XHRcdFx0aWYgKHN0eWxlLmRpc3BsYXkgIT09IFwibm9uZVwiICYmIHRoaXMuaXNFbGVtZW50SW5WaWV3cG9ydChlbGVtZW50KSkge1xuXHRcdFx0XHRcdGNvbnN0IGVsZW1lbnRQb3NpdGlvbiA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0XHRcdFx0aWYgKGVsZW1lbnRQb3NpdGlvbi50b3AgIT09IDAgfHwgZWxlbWVudFBvc2l0aW9uLmxlZnQgIT09IDApIHtcblx0XHRcdFx0XHRcdGNvbnN0IHVuaXF1ZVN0cmluZyA9IHRoaXMudW5pcXVlU3RyaW5ncy5nZW5lcmF0ZVVuaXF1ZVN0cmluZygpO1xuXHRcdFx0XHRcdFx0dGhpcy5lbGVtZW50c1dpdGhVbmlxdWVTdHJpbmdzLnNldCh1bmlxdWVTdHJpbmcsIGVsZW1lbnQpO1xuXG5cdFx0XHRcdFx0XHRjb25zdCBzdHJpbmdFbGVtZW50ID0gdGhpcy5vdmVybGF5LmNyZWF0ZUVsKCdzcGFuJywge1xuXHRcdFx0XHRcdFx0XHRjbHM6ICdzdXJmaW5nLWtleS1zdHJpbmcnLFxuXHRcdFx0XHRcdFx0XHRhdHRyOiB7XG5cdFx0XHRcdFx0XHRcdFx0aWQ6IHVuaXF1ZVN0cmluZyxcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRzdHJpbmdFbGVtZW50LnRleHRDb250ZW50ID0gdW5pcXVlU3RyaW5nO1xuXG5cdFx0XHRcdFx0XHRjb25zdCBtaWRQb2ludFggPSBlbGVtZW50UG9zaXRpb24ubGVmdCArIGVsZW1lbnRQb3NpdGlvbi53aWR0aCAvIDI7XG5cdFx0XHRcdFx0XHRjb25zdCBtaWRQb2ludFkgPSBlbGVtZW50UG9zaXRpb24udG9wICsgZWxlbWVudFBvc2l0aW9uLmhlaWdodCAvIDI7XG5cblx0XHRcdFx0XHRcdGNvbnN0IHN0cmluZ0VsZW1lbnRSZWN0ID0gc3RyaW5nRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRcdFx0XHRcdGNvbnN0IG92ZXJsYXlSZWN0ID0gdGhpcy5vdmVybGF5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0XHRcdFx0Y29uc3Qgc3RyaW5nV2lkdGggPSBzdHJpbmdFbGVtZW50UmVjdC53aWR0aDtcblx0XHRcdFx0XHRcdGNvbnN0IHN0cmluZ0hlaWdodCA9IHN0cmluZ0VsZW1lbnRSZWN0LmhlaWdodDtcblxuXHRcdFx0XHRcdFx0Y29uc3QgcmlnaHRQb3NpdGlvbiA9IG1pZFBvaW50WCArIHN0cmluZ1dpZHRoIC8gMjtcblx0XHRcdFx0XHRcdGNvbnN0IGJvdHRvbVBvc2l0aW9uID0gbWlkUG9pbnRZICsgc3RyaW5nSGVpZ2h0IC8gMjtcblxuXHRcdFx0XHRcdFx0aWYgKHJpZ2h0UG9zaXRpb24gPiBvdmVybGF5UmVjdC5yaWdodCkge1xuXHRcdFx0XHRcdFx0XHRzdHJpbmdFbGVtZW50LnN0eWxlLmxlZnQgPSBgJHttaWRQb2ludFggLSBzdHJpbmdXaWR0aH1weGA7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRzdHJpbmdFbGVtZW50LnN0eWxlLmxlZnQgPSBgJHttaWRQb2ludFh9cHhgO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAoYm90dG9tUG9zaXRpb24gPiBvdmVybGF5UmVjdC5ib3R0b20pIHtcblx0XHRcdFx0XHRcdFx0c3RyaW5nRWxlbWVudC5zdHlsZS50b3AgPSBgJHttaWRQb2ludFkgLSBzdHJpbmdIZWlnaHR9cHhgO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChtaWRQb2ludFkgKyBzdHJpbmdIZWlnaHQgLyAyID4gb3ZlcmxheVJlY3QuYm90dG9tKSB7XG5cdFx0XHRcdFx0XHRcdHN0cmluZ0VsZW1lbnQuc3R5bGUudG9wID0gYCR7bWlkUG9pbnRZIC0gc3RyaW5nSGVpZ2h0fXB4YDtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHN0cmluZ0VsZW1lbnQuc3R5bGUudG9wID0gYCR7bWlkUG9pbnRZIC0gMn1weGA7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRwcm9jZXNzUXVldWUocXVldWUpO1xuXHRcdH07XG5cdFx0cHJvY2Vzc1F1ZXVlKFt0aGlzLmRvYyBpbnN0YW5jZW9mIERvY3VtZW50ID8gdGhpcy5kb2MuZG9jdW1lbnRFbGVtZW50IDogdGhpcy5kb2NdKTtcblx0fVxuXG5cblxuXHRtb25pdG9yVXNlcklucHV0KCk6IHZvaWQge1xuXHRcdGNvbnN0IGlucHV0UXVldWU6IHN0cmluZ1tdID0gW107XG5cdFx0bGV0IGlzVGlja1ByZXNzZWQgPSBmYWxzZTsgIC8vIFx1NTIxRFx1NTlDQlx1NTMxNlx1NTNEOFx1OTFDRlx1Njc2NVx1NjM1NVx1ODNCNyAnYCcgXHU1QjU3XHU3QjI2XHU4RjkzXHU1MTY1XG5cdFx0dGhpcy5rZXlkb3duSGFuZGxlciA9IChlKSA9PiB7XG5cdFx0XHRpZighdGhpcy5vdmVybGF5KSByZXR1cm47XG5cblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcblx0XHRcdFx0dGhpcy5yZW1vdmVPdmVybGF5KCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKEtleW1hcC5pc01vZGlmaWVyKGUsICdNb2QnKSB8fCBLZXltYXAuaXNNb2RpZmllcihlLCAnU2hpZnQnKSB8fCBLZXltYXAuaXNNb2RpZmllcihlLCAnQWx0JykpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBcdTUyMjRcdTY1QUQgJ2AnIFx1NUI1N1x1N0IyNlx1NjYyRlx1NTQyNlx1ODhBQlx1NjMwOVx1NEUwQlxuXHRcdFx0aWYgKGUua2V5ID09PSAnYCcpIHtcblx0XHRcdFx0aXNUaWNrUHJlc3NlZCA9IHRydWU7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYoISgvXltxd2VydGFzZGZnenhjdmJRV0VSVEFTREZHWlhDVkJdJC9pLnRlc3QoZS5rZXkpKSkge1xuXHRcdFx0XHRpZihlLmtleSA9PT0gJ0JhY2tzcGFjZScgfHwgZS5rZXkgPT09ICdEZWxldGUnKSB7XG5cdFx0XHRcdFx0aW5wdXRRdWV1ZS5wb3AoKTtcblx0XHRcdFx0XHRpc1RpY2tQcmVzc2VkID0gZmFsc2U7XG5cdFx0XHRcdFx0Y29uc3QgaW5wdXREaXNwbGF5ID0gdGhpcy5vdmVybGF5LnF1ZXJ5U2VsZWN0b3IoJyNpbnB1dERpc3BsYXknKTtcblx0XHRcdFx0XHRpZiAoaW5wdXREaXNwbGF5KSB7XG5cdFx0XHRcdFx0XHRpbnB1dERpc3BsYXkudGV4dENvbnRlbnQgPSBpbnB1dFF1ZXVlLmpvaW4oJycpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyB0aGlzLm92ZXJsYXkucXVlcnlTZWxlY3RvckFsbCgnLnN1cmZpbmcta2V5LXN0cmluZycpLmZvckVhY2goKHNwYW46IEhUTUxTcGFuRWxlbWVudCkgPT4gc3Bhbi5zaG93KCkpO1xuXHRcdFx0XHRcdC8vIFVwZGF0ZSBoZXJlXG5cdFx0XHRcdFx0Zm9yIChjb25zdCBbdW5pcXVlU3RyaW5nLCBfXSBvZiB0aGlzLmVsZW1lbnRzV2l0aFVuaXF1ZVN0cmluZ3MuZW50cmllcygpKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBzdHJpbmdFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodW5pcXVlU3RyaW5nKTtcblx0XHRcdFx0XHRcdHN0cmluZ0VsZW1lbnQ/LnNob3coKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBpbnB1dCA9IGUua2V5LnRvVXBwZXJDYXNlKCk7XG5cblx0XHRcdGlmIChpbnB1dFF1ZXVlLmxlbmd0aCA+PSAyICYmIHRoaXMudW5pcXVlU3RyaW5ncy51c2VkQ2hhcnMuaGFzKGlucHV0UXVldWUuam9pbignJylbMF0pKSB7XG5cdFx0XHRcdGlucHV0UXVldWUuc2hpZnQoKTtcblx0XHRcdH0gZWxzZSBpZiAoaW5wdXRRdWV1ZS5sZW5ndGggPj0gMykge1xuXHRcdFx0XHRpbnB1dFF1ZXVlLnNoaWZ0KCk7XG5cdFx0XHR9XG5cdFx0XHRpbnB1dFF1ZXVlLnB1c2goaW5wdXQpO1xuXG5cdFx0XHRjb25zdCBpbnB1dERpc3BsYXkgPSB0aGlzLm92ZXJsYXkucXVlcnlTZWxlY3RvcignI2lucHV0RGlzcGxheScpO1xuXHRcdFx0aWYgKGlucHV0RGlzcGxheSkge1xuXHRcdFx0XHRpbnB1dERpc3BsYXkudGV4dENvbnRlbnQgPSBpbnB1dFF1ZXVlLmpvaW4oJycpO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBpbnB1dFN0cmluZyA9IGlucHV0UXVldWUuam9pbignJyk7XG5cblx0XHRcdC8vIHRoaXMub3ZlcmxheS5xdWVyeVNlbGVjdG9yQWxsKCcuc3VyZmluZy1rZXktc3RyaW5nJykuZm9yRWFjaCgoc3BhbjogSFRNTFNwYW5FbGVtZW50KSA9PiB7XG5cdFx0XHQvLyBVcGRhdGUgaGVyZVxuXHRcdFx0Zm9yIChjb25zdCBbdW5pcXVlU3RyaW5nLCBfXSBvZiB0aGlzLmVsZW1lbnRzV2l0aFVuaXF1ZVN0cmluZ3MuZW50cmllcygpKSB7XG5cdFx0XHRcdGNvbnN0IHN0cmluZ0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh1bmlxdWVTdHJpbmcpO1xuXHRcdFx0XHRpZiAoc3RyaW5nRWxlbWVudCAmJiBzdHJpbmdFbGVtZW50LnRleHRDb250ZW50Py5zdGFydHNXaXRoKGlucHV0U3RyaW5nKSkge1xuXHRcdFx0XHRcdHN0cmluZ0VsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3llbGxvdyc7XG5cdFx0XHRcdFx0c3RyaW5nRWxlbWVudC5zdHlsZS5jb2xvciA9ICdibGFjayc7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3RyaW5nRWxlbWVudD8uaGlkZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLmVsZW1lbnRzV2l0aFVuaXF1ZVN0cmluZ3MuaGFzKGlucHV0U3RyaW5nKSkge1xuXHRcdFx0XHRsZXQgZWxlbWVudFRvQ2xpY2sgPSB0aGlzLmVsZW1lbnRzV2l0aFVuaXF1ZVN0cmluZ3MuZ2V0KGlucHV0U3RyaW5nKTtcblxuXHRcdFx0XHRpZiAoZWxlbWVudFRvQ2xpY2sgaW5zdGFuY2VvZiBTVkdTVkdFbGVtZW50ICYmIGVsZW1lbnRUb0NsaWNrLnBhcmVudEVsZW1lbnQpIHtcblx0XHRcdFx0XHRlbGVtZW50VG9DbGljayA9IGVsZW1lbnRUb0NsaWNrLnBhcmVudEVsZW1lbnQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLnJlbW92ZU92ZXJsYXkoKTtcblxuXHRcdFx0XHQvLyBcdTVGNTMgJ2AnIFx1NUI1N1x1N0IyNlx1ODhBQlx1NjMwOVx1NEUwQlx1NjVGNlx1RkYwQ1x1ODlFNlx1NTNEMVx1NTNGM1x1OTUyRVx1NzBCOVx1NTFGQlx1RkYwQ1x1NTQyNlx1NTIxOVx1ODlFNlx1NTNEMVx1NURFNlx1OTUyRVx1NzBCOVx1NTFGQlxuXHRcdFx0XHRpZiAoaXNUaWNrUHJlc3NlZCkge1xuXHRcdFx0XHRcdGVsZW1lbnRUb0NsaWNrPy5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KCdjb250ZXh0bWVudScsIHsgYnViYmxlczogdHJ1ZSwgY2xpZW50WDogZWxlbWVudFRvQ2xpY2suZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCArIGVsZW1lbnRUb0NsaWNrLmNsaWVudFdpZHRoIC8gMiwgY2xpZW50WTogZWxlbWVudFRvQ2xpY2suZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgZWxlbWVudFRvQ2xpY2suY2xpZW50SGVpZ2h0IC8gMn0pKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRlbGVtZW50VG9DbGljaz8uZGlzcGF0Y2hFdmVudChuZXcgTW91c2VFdmVudCgnY2xpY2snLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xuXHRcdFx0XHRcdGlmKGVsZW1lbnRUb0NsaWNrIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkge1xuXHRcdFx0XHRcdFx0aWYoZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gZWxlbWVudFRvQ2xpY2spIHtcblx0XHRcdFx0XHRcdFx0KGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpPy5ibHVyKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpPT57XG5cdFx0XHRcdFx0XHRcdChlbGVtZW50VG9DbGljayBhcyBIVE1MSW5wdXRFbGVtZW50KT8uZm9jdXMoKTtcblx0XHRcdFx0XHRcdH0sMClcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aXNUaWNrUHJlc3NlZCA9IGZhbHNlOyAgLy8gXHU5MUNEXHU3RjZFXHU3MkI2XHU2MDAxXG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duSGFuZGxlciwgdHJ1ZSk7XG5cdH1cblxuXHRpbml0KCk6IHZvaWQge1xuXHRcdHRoaXMuYXR0YWNoU3RyaW5nc1RvRWxlbWVudHMoKTtcblx0XHR0aGlzLm1vbml0b3JVc2VySW5wdXQoKTtcblx0fVxuXG5cdHJlbW92ZU92ZXJsYXkoKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMubW9kYWwgJiYgIXRoaXMucmVtb3ZlZCkge1xuXHRcdFx0dGhpcy5yZW1vdmVkID0gdHJ1ZTsgLy8gXHU4QkJFXHU3RjZFXHU3MkI2XHU2MDAxXHU0RTNBXHU1REYyXHU3OUZCXHU5NjY0XHVGRjBDXHU5NjMyXHU2QjYyXHU5MDEyXHU1RjUyXHU4QzAzXHU3NTI4XG5cdFx0XHR0aGlzLmNiKCk7XG5cdFx0XHRzZXRUaW1lb3V0KCgpPT57XG5cdFx0XHRcdHRoaXMubW9kYWwuY2xvc2UoKTtcblx0XHRcdH0sIDApO1xuXHRcdH1cblx0XHRpZiAodGhpcy5rZXlkb3duSGFuZGxlcikge1xuXHRcdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd25IYW5kbGVyLCB0cnVlKTtcblx0XHRcdHRoaXMua2V5ZG93bkhhbmRsZXIgPSBudWxsO1xuXHRcdH1cblx0fVxufVxuXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSx1QkFBeUM7OztBQ0F6QyxzQkFBdUI7QUFHdkIsSUFBTSxnQkFBTixNQUFvQjtBQUFBLEVBQXBCO0FBQ0MsU0FBUSxjQUEyQixvQkFBSSxJQUFJO0FBQzNDLFNBQVEsZUFBdUI7QUFDL0IsU0FBUSxpQkFBeUI7QUFDakMsU0FBUSxzQkFBOEI7QUFDdEMsU0FBUSxhQUFhO0FBRXJCLFNBQU8sWUFBeUIsb0JBQUksSUFBSTtBQUFBO0FBQUEsRUFHeEMsQUFBUSxpQkFBeUI7QUFDaEMsUUFBSSxTQUFTO0FBQ2IsUUFBSSxpQkFBaUIsTUFBTSxLQUFLLEtBQUssU0FBUztBQUM5QyxhQUFTLElBQUksR0FBRyxJQUFJLEtBQUss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
