library(tidyverse)
list.files("C:/Users/reubender/Downloads/SA2")
SA2_files <- list.files("C:/Users/reubender/Downloads/SA2")
SA2_files <- list.files("C:/Users/reubender/Downloads/SA2")
str_detect(SA2_files, "patchinf")
str_detect(SA2_files, c("patchinf", "summary")
str_detect(SA2_files, c("patchinf", "summary"))
str_detect(SA2_files, c("patchinf", "summary"))
str_detect(SA2_files, "patchinf|summary")
str_detect(SA2_files, "patchinf|patchsus|summary")
SA2_files[str_detect(SA2_files, "patchinf|patchsus|summary")]
SA2_files[!str_detect(SA2_files, "patchinf|patchsus|summary")]
SA2_files <- list.files("C:/Users/reubender/Downloads/SA2")
SA2_files[!str_detect(SA2_files, "patchinf|patchsus|summary")]
SA2_files <- list.files("C:/Users/reubender/Downloads/SA2", full.names = TRUE)
tot_files <- SA2_files[!str_detect(SA2_files, "patchinf|patchsus|summary")]
read_csv(tot_files, col_names = c("t", "S", "I"), skip = 2, id = "sim")
sims <- read_csv(tot_files, col_names = c("t", "S", "I"), skip = 2, id = "sim")
mutate(mm = str_extract(sim, ".*(.*)_.*\.csv")
sims |>
mutate(mm = str_extract(sim, ".*\(.*\)_.*\.csv"))
sims |>
mutate(mm = str_extract(sim, ".*\\(.*\\)_.*\\.csv"))
sims |>
mutate(mm = str_extract(sim, ".*\\(.*\\)_.*\\.csv", 1))
sims |>
mutate(mm = str_extract(sim, ".*(.*)_.*\\.csv", 1))
sims |>
mutate(mm = str_extract(sim, ".*_.{7}(...)_.*\\.csv", 1))
sims |>
mutate(mm = str_extract(sim, ".*_.{7}(...)_.*\\.csv"))
sims |>
mutate(mm = str_extract(sim, "_.{7}(...)_.*\\.csv", 1))
sims |>
mutate(mm = str_extract(sim, "_.{7}(...)_.*\\.csv", 1))
sims |>
mutate(mm = str_extract(sim, "_.{7}()_.*\\.csv", 1))
sims |>
mutate(mm = str_extract(sim, "_.{7}(.)_.*\\.csv", 1))
sims |>
mutate(mm = str_extract(sim, "_.{7}(.)_.*\\.csv", group = 1))
sims |>
mutate(mm = str_extract(sim, "_.{7}(.)_.*.csv", group = 1))
sims |>
mutate(mm = str_extract(sim, "_{7}(.)_.*.csv", group = 1))
sims |>
mutate(mm = str_extract(sim, "(.)_.*.csv", group = 1))
sims |>
mutate(mm = str_extract(sim, "(.)_.{2,3}.csv", group = 1))
sims |>
mutate(mm = str_extract(sim, "(...)_.{2,3}.csv", group = 1))
sims |>
mutate(mm = str_extract(sim, "(...)_.{1,3}.csv", group = 1))
sims |>
ggplot() |>
aes(x = t, y = I, col = factor(mm))
sims |>
ggplot() +
aes(x = t, y = I, col = factor(mm)) +
geom_line()
sims <- sims |>
mutate(mm = str_extract(sim, "(...)_.{1,3}.csv", group = 1))
sims |>
ggplot() +
aes(x = t, y = I, col = factor(mm)) +
geom_line()
sims
sims |>
ggplot() +
aes(x = t, y = I, col = mm) +
geom_line()
sims |>
ggplot() +
aes(x = t, y = I, col = mm, group = sim) +
geom_line()
sims |>
filter(mm = "0.3")
sims |>
filter(mm == "0.3") |>
ggplot() +
aes(x = t, y = I, col = mm, group = sim) +
geom_line()
sims
View(sims)
sims <- sims |>
mutate(
beta = str_extract(sim, "(...).{8}_.{1,2}.csv", group = 1))
sims
sims <- sims |>
mutate(
beta = str_extract(sim, "(...).{8}_.{1,2}.csv", group = 1),
gamma = str_extract(sim, "(...).{5}_.{1,2}.csv", group = 1)
mm = str_extract(sim, "(...)_.{1,2}.csv", group = 1))
sims <- sims |>
mutate(
beta = str_extract(sim, "(...).{8}_.{1,2}.csv", group = 1),
gamma = str_extract(sim, "(...).{5}_.{1,2}.csv", group = 1),
mm = str_extract(sim, "(...)_.{1,2}.csv", group = 1))
sims
sims <- sims |>
mutate(
beta = str_extract(sim, "(...).{8}_.{1,2}.csv", group = 1),
gamma = str_extract(sim, "(...).{4}_.{1,2}.csv", group = 1),
mm = str_extract(sim, "(...)_.{1,2}.csv", group = 1))
sims
sims <- sims |>
mutate(
beta = as.numeric(str_extract(sim, "(...).{8}_.{1,2}.csv", group = 1)),
gamma = as.numeric(str_extract(sim, "(...).{4}_.{1,2}.csv", group = 1)),
mm = as.numeric(str_extract(sim, "(...)_.{1,2}.csv", group = 1)),
R0 = beta/gamma)
sims |>
filter(mm == "0.3") |>
ggplot() +
aes(x = t, y = I, col = mm, group = sim) +
geom_line() +
facet(~R0)
sims |>
filter(mm == "0.3") |>
ggplot() +
aes(x = t, y = I, col = mm, group = sim) +
geom_line() +
facet_wrap(~R0)
sims |>
ggplot() +
aes(x = t, y = I, col = mm, group = sim) +
geom_line() +
facet_wrap(~R0)
sims |>
ggplot() +
aes(x = t, y = I, col = factor(mm), group = sim) +
geom_line() +
facet_wrap(~R0)
sims |>
ggplot() +
aes(x = t, y = I, col = factor(mm), group = sim) +
geom_line() +
facet_wrap(~R0, scales = "free")
SA2_files <- list.files("C:/Users/reubender/Downloads/SA2", full.names = TRUE)
tot_files <- SA2_files[!str_detect(SA2_files, "patchinf|patchsus|summary")]
sims <- read_csv(tot_files, col_names = c("t", "S", "I"), skip = 2, id = "sim")
sims <- sims |>
mutate(
beta = as.numeric(str_extract(sim, "(...).{8}_.{1,2}.csv", group = 1)),
gamma = as.numeric(str_extract(sim, "(...).{4}_.{1,2}.csv", group = 1)),
mm = as.numeric(str_extract(sim, "(...)_.{1,2}.csv", group = 1)),
R0 = beta/gamma)
sims |>
ggplot() +
aes(x = t, y = I, col = factor(mm), group = sim) +
geom_line() +
facet_wrap(~R0, scales = "free")
SA2_files <- list.files("C:/Users/reubender/Downloads/SA2", full.names = TRUE)
tot_files <- SA2_files[!str_detect(SA2_files, "patchinf|patchsus|summary")]
sims <- read_csv(tot_files, col_names = c("t", "S", "I"), skip = 2, id = "sim")
sims <- sims |>
mutate(
beta = as.numeric(str_extract(sim, "(...).{8}_.{1,2}.csv", group = 1)),
gamma = as.numeric(str_extract(sim, "(...).{4}_.{1,2}.csv", group = 1)),
mm = as.numeric(str_extract(sim, "(...)_.{1,2}.csv", group = 1)),
R0 = beta/gamma)
sims |>
ggplot() +
aes(x = t, y = I, col = factor(mm), group = sim) +
geom_line() +
facet_wrap(~R0, scales = "free")
SA2_files <- list.files("C:/Users/reubender/Downloads/SA2", full.names = TRUE)
tot_files <- SA2_files[!str_detect(SA2_files, "patchinf|patchsus|summary")]
sims <- read_csv(tot_files, col_names = c("t", "S", "I"), skip = 2, id = "sim")
sims <- sims |>
mutate(
beta = as.numeric(str_extract(sim, "(...).{8}_.{1,2}.csv", group = 1)),
gamma = as.numeric(str_extract(sim, "(...).{4}_.{1,2}.csv", group = 1)),
mm = as.numeric(str_extract(sim, "(...)_.{1,2}.csv", group = 1)),
R0 = beta/gamma)
sims |>
ggplot() +
aes(x = t, y = I, col = factor(mm), group = sim) +
geom_line() +
facet_wrap(~R0, scales = "free")
SA2_files
SA2_files <- list.files("C:/Users/reubender/Downloads/SA2", full.names = TRUE)
tot_files <- SA2_files[!str_detect(SA2_files, "patchinf|patchsus|summary")]
sims <- read_csv(tot_files, col_names = c("t", "S", "I"), skip = 2, id = "sim")
sims <- sims |>
mutate(
beta = as.numeric(str_extract(sim, "(...).{8}_.{1,2}.csv", group = 1)),
gamma = as.numeric(str_extract(sim, "(...).{4}_.{1,2}.csv", group = 1)),
mm = as.numeric(str_extract(sim, "(...)_.{1,2}.csv", group = 1)),
R0 = beta/gamma)
sims |>
ggplot() +
aes(x = t, y = I, col = factor(mm), group = sim) +
geom_line() +
facet_wrap(~R0, scales = "free")
SA2_files <- list.files("C:/Users/reubender/Downloads/SA2_julia", full.names = TRUE)
tot_files <- SA2_files[!str_detect(SA2_files, "patchinf|patchsus|summary")]
sims <- read_csv(tot_files, col_names = c("t", "S", "I"), skip = 2, id = "sim")
sims <- sims |>
mutate(
beta = as.numeric(str_extract(sim, "(...).{8}_.{1,2}.csv", group = 1)),
gamma = as.numeric(str_extract(sim, "(...).{4}_.{1,2}.csv", group = 1)),
mm = as.numeric(str_extract(sim, "(...)_.{1,2}.csv", group = 1)),
R0 = beta/gamma)
sims |>
ggplot() +
aes(x = t, y = I, col = factor(mm), group = sim) +
geom_line() +
facet_wrap(~R0, scales = "free")
tot_files
SA2_files <- list.files("C:/Users/reubender/Downloads/SA2_julia", full.names = TRUE)
tot_files <- SA2_files[!str_detect(SA2_files, "patchinf|patchsus|summary")]
sims <- read_csv(tot_files, col_names = c("t", "S", "I"), skip = 2, id = "sim")
sims <- sims |>
mutate(
beta = as.numeric(str_extract(sim, "(...)_.{3}_.{3}_.{1,2}.csv", group = 1)),
gamma = as.numeric(str_extract(sim, "(...)_.{3}_.{1,2}.csv", group = 1)),
mm = as.numeric(str_extract(sim, "(...)_.{1,2}.csv", group = 1)),
R0 = beta/gamma)
sims |>
ggplot() +
aes(x = t, y = I, col = factor(mm), group = sim) +
geom_line() +
facet_wrap(~R0, scales = "free")
sims |> filter(mm == NA)
sims |> filter(R0 == NA)
sims <- sims |>
mutate(
beta = as.numeric(str_extract(sim, "(...)_.{3}_.{3}_.{1,2}.csv", group = 1)),
gamma = as.numeric(str_extract(sim, "(...)_.{3}_.{1,2}.csv", group = 1)),
mm = as.numeric(str_extract(sim, "(...)_.{1,2}.csv", group = 1)),
R0 = beta/gamma)
sims |>
ggplot() +
aes(x = t, y = I, col = mm, group = sim) +
geom_line() +
facet_wrap(~R0, scales = "free")
View(sims)
sims <- sims |>
mutate(
beta = as.numeric(str_extract(sim, "(...)_.{3}_.{3}_.{1,3}.csv", group = 1)),
gamma = as.numeric(str_extract(sim, "(...)_.{3}_.{1,3}.csv", group = 1)),
mm = as.numeric(str_extract(sim, "(...)_.{1,3}.csv", group = 1)),
R0 = beta/gamma)
sims |>
ggplot() +
aes(x = t, y = I, col = mm, group = sim) +
geom_line() +
facet_wrap(~R0, scales = "free")
SA2_files <- list.files("C:/Users/reubender/Downloads/SA2_julia", full.names = TRUE)
tot_files <- SA2_files[!str_detect(SA2_files, "patchinf|patchsus|summary")]
sims <- read_csv(tot_files, col_names = c("t", "S", "I"), skip = 2, id = "sim")
sims <- sims |>
mutate(
beta = as.numeric(str_extract(sim, "(...)_.{3}_.{3}_.{1,3}.csv", group = 1)),
gamma = as.numeric(str_extract(sim, "(...)_.{3}_.{1,3}.csv", group = 1)),
mm = as.numeric(str_extract(sim, "(...)_.{1,3}.csv", group = 1)),
R0 = beta/gamma)
sims |>
ggplot() +
aes(x = t, y = I, col = mm, group = sim) +
geom_line() +
facet_wrap(~R0, scales = "free")
library(tidyverse)
SA2_files <- list.files("C:/Users/reubender/Downloads/SA2_julia", full.names = TRUE)
tot_files <- SA2_files[!str_detect(SA2_files, "patchinf|patchsus|summary")]
sims <- read_csv(tot_files, col_names = c("t", "S", "I"), skip = 2, id = "sim")
sims <- sims |>
mutate(
beta = as.numeric(str_extract(sim, "(...)_.{3}_.{3}_.{1,3}.csv", group = 1)),
gamma = as.numeric(str_extract(sim, "(...)_.{3}_.{1,3}.csv", group = 1)),
mm = as.numeric(str_extract(sim, "(...)_.{1,3}.csv", group = 1)),
R0 = beta/gamma)
sims |>
ggplot() +
aes(x = t, y = I, col = mm, group = sim) +
geom_line() +
facet_wrap(~R0, scales = "free")
library(tidyverse)
SA2_files <- list.files("C:/Users/reubender/Downloads/SA2_julia", full.names = TRUE)
tot_files <- SA2_files[!str_detect(SA2_files, "patchinf|patchsus|summary")]
sims <- read_csv(tot_files, col_names = c("t", "S", "I"), skip = 2, id = "sim")
sims <- sims |>
mutate(
beta = as.numeric(str_extract(sim, "(...)_.{3}_.{3}_.{1,3}.csv", group = 1)),
gamma = as.numeric(str_extract(sim, "(...)_.{3}_.{1,3}.csv", group = 1)),
mm = as.numeric(str_extract(sim, "(...)_.{1,3}.csv", group = 1)),
R0 = beta/gamma)
sims <- read_csv(tot_files, col_names = c("t", "S", "I"), skip = 2, id = "sim")
sims <- sims |>
mutate(
beta = as.numeric(str_extract(sim, "(...)_.{3}_.{3}_.{1,3}.csv", group = 1)),
gamma = as.numeric(str_extract(sim, "(...)_.{3}_.{1,3}.csv", group = 1)),
mm = as.numeric(str_extract(sim, "(...)_.{1,3}.csv", group = 1)),
R0 = beta/gamma)
sims <- read_csv(tot_files, col_names = c("t", "S", "I"), skip = 2, id = "sim")
sims <- sims |>
mutate(
beta = as.numeric(str_extract(sim, "(...)_.{3}_.{3}_.{1,3}.csv", group = 1)),
gamma = as.numeric(str_extract(sim, "(...)_.{3}_.{1,3}.csv", group = 1)),
mm = as.numeric(str_extract(sim, "(...)_.{1,3}.csv", group = 1)),
R0 = beta/gamma)
sims |>
ggplot() +
aes(x = t, y = I, col = mm, group = sim) +
geom_line() +
facet_wrap(~R0, scales = "free")
library(tidyverse)
SA2_files <- list.files("C:/Users/reubender/Downloads/SA2_julia", full.names = TRUE)
tot_files <- SA2_files[!str_detect(SA2_files, "patchinf|patchsus|summary")]
sims <- read_csv(tot_files, col_names = c("t", "S", "I"), skip = 2, id = "sim")
sims <- sims |>
mutate(
beta = as.numeric(str_extract(sim, "(...)_.{3}_.{3}_.{1,3}.csv", group = 1)),
gamma = as.numeric(str_extract(sim, "(...)_.{3}_.{1,3}.csv", group = 1)),
mm = as.numeric(str_extract(sim, "(...)_.{1,3}.csv", group = 1)),
R0 = beta/gamma)
sims |>
ggplot() +
aes(x = t, y = I, col = mm, group = sim) +
geom_line() +
facet_wrap(~R0, scales = "free")
## Final infection size
library(tidyverse)
SA2_files <- list.files("C:/Users/reubender/Downloads/SA2_julia", full.names = TRUE)
tot_files <- SA2_files[!str_detect(SA2_files, "patchinf|patchsus|summary")]
sims <- read_csv(tot_files, col_names = c("t", "S", "I"), skip = 2, id = "sim")
sims <- sims |>
mutate(
beta = as.numeric(str_extract(sim, "(...)_.{3}_.{3}_.{1,3}.csv", group = 1)),
gamma = as.numeric(str_extract(sim, "(...)_.{3}_.{1,3}.csv", group = 1)),
mm = as.numeric(str_extract(sim, "(...)_.{1,3}.csv", group = 1)),
R0 = beta/gamma)
sims |>
ggplot() +
aes(x = t, y = I, col = mm, group = sim) +
geom_line() +
facet_wrap(~R0, scales = "free")
## Final infection size
library(tidyverse)
SA2_files <- list.files("C:/Users/reubender/Downloads/SA2_julia", full.names = TRUE)
tot_files <- SA2_files[!str_detect(SA2_files, "patchinf|patchsus|summary")]
sims <- read_csv(tot_files, col_names = c("t", "S", "I"), skip = 2, id = "sim")
sims <- sims |>
mutate(
beta = as.numeric(str_extract(sim, "(...)_.{3}_.{3}_.{1,3}.csv", group = 1)),
gamma = as.numeric(str_extract(sim, "(...)_.{3}_.{1,3}.csv", group = 1)),
mm = as.numeric(str_extract(sim, "(...)_.{1,3}.csv", group = 1)),
R0 = beta/gamma)
sims |>
ggplot() +
aes(x = t, y = I, col = mm, group = sim) +
geom_line() +
facet_wrap(~R0, scales = "free")
## Final infection size
library(tidyverse)
SA2_files <- list.files("C:/Users/reubender/Downloads/SA2_julia", full.names = TRUE)
tot_files <- SA2_files[!str_detect(SA2_files, "patchinf|patchsus|summary")]
sims <- read_csv(tot_files, col_names = c("t", "S", "I"), skip = 2, id = "sim")
sims <- sims |>
mutate(
beta = as.numeric(str_extract(sim, "(...)_.{3}_.{3}_.{1,3}.csv", group = 1)),
gamma = as.numeric(str_extract(sim, "(...)_.{3}_.{1,3}.csv", group = 1)),
mm = as.numeric(str_extract(sim, "(...)_.{1,3}.csv", group = 1)),
R0 = beta/gamma)
sims |>
ggplot() +
aes(x = t, y = I, col = mm, group = sim) +
geom_line() +
facet_wrap(~R0, scales = "free")
## Final infection size
library(tidyverse)
SA2_files <- list.files("C:/Users/reubender/Downloads/SA2_julia", full.names = TRUE)
tot_files <- SA2_files[!str_detect(SA2_files, "patchinf|patchsus|summary")]
sims <- read_csv(tot_files, col_names = c("t", "S", "I"), skip = 2, id = "sim")
sims <- sims |>
mutate(
beta = as.numeric(str_extract(sim, "(...)_.{3}_.{3}_.{1,3}.csv", group = 1)),
gamma = as.numeric(str_extract(sim, "(...)_.{3}_.{1,3}.csv", group = 1)),
mm = as.numeric(str_extract(sim, "(...)_.{1,3}.csv", group = 1)),
R0 = beta/gamma)
sims |>
ggplot() +
aes(x = t, y = I, col = mm, group = sim) +
geom_line() +
facet_wrap(~R0, scales = "free")
## Final infection size
library(tidyverse)
SA2_files <- list.files("C:/Users/reubender/Downloads/SA2_julia", full.names = TRUE)
tot_files <- SA2_files[!str_detect(SA2_files, "patchinf|patchsus|summary")]
sims <- read_csv(tot_files, col_names = c("t", "S", "I"), skip = 2, id = "sim")
sims <- sims |>
mutate(
beta = as.numeric(str_extract(sim, "(...)_.{3}_.{3}_.{1,3}.csv", group = 1)),
gamma = as.numeric(str_extract(sim, "(...)_.{3}_.{1,3}.csv", group = 1)),
mm = as.numeric(str_extract(sim, "(...)_.{1,3}.csv", group = 1)),
R0 = beta/gamma)
sims |>
ggplot() +
aes(x = t, y = I, col = mm, group = sim) +
geom_line() +
facet_wrap(~R0, scales = "free")
## Final infection size
library(tidyverse)
SA2_files <- list.files("C:/Users/reubender/Downloads/SA2_julia", full.names = TRUE)
tot_files <- SA2_files[!str_detect(SA2_files, "patchinf|patchsus|summary")]
sims <- read_csv(tot_files, col_names = c("t", "S", "I"), skip = 2, id = "sim")
sims <- sims |>
mutate(
beta = as.numeric(str_extract(sim, "(...)_.{3}_.{3}_.{1,3}.csv", group = 1)),
gamma = as.numeric(str_extract(sim, "(...)_.{3}_.{1,3}.csv", group = 1)),
mm = as.numeric(str_extract(sim, "(...)_.{1,3}.csv", group = 1)),
R0 = beta/gamma)
sims |>
ggplot() +
aes(x = t, y = I, col = mm, group = sim) +
geom_line() +
facet_wrap(~R0, scales = "free")
## Final infection size
library(tidyverse)
SA2_files <- list.files("C:/Users/reubender/Downloads/SA2_julia", full.names = TRUE)
tot_files <- SA2_files[!str_detect(SA2_files, "patchinf|patchsus|summary")]
sims <- read_csv(tot_files, col_names = c("t", "S", "I"), skip = 2, id = "sim")
sims <- sims |>
mutate(
beta = as.numeric(str_extract(sim, "(...)_.{3}_.{3}_.{1,3}.csv", group = 1)),ssssss
gamma = as.numeric(str_extract(sim, "(...)_.{3}_.{1,3}.csv", group = 1)),
library(tidyverse)
SA2_files <- list.files("C:/Users/reubender/Downloads/SA2_julia", full.names = TRUE)
tot_files <- SA2_files[!str_detect(SA2_files, "patchinf|patchsus|summary")]
sims <- read_csv(tot_files, col_names = c("t", "S", "I"), skip = 2, id = "sim")
sims <- sims |>
mutate(
beta = as.numeric(str_extract(sim, "(...)_.{3}_.{3}_.{1,3}.csv", group = 1)),
gamma = as.numeric(str_extract(sim, "(...)_.{3}_.{1,3}.csv", group = 1)),
mm = as.numeric(str_extract(sim, "(...)_.{1,3}.csv", group = 1)),
R0 = beta/gamma)
sims |>
ggplot() +
aes(x = t, y = I, col = mm, group = sim) +
geom_line() +
facet_wrap(~R0, scales = "free")
## Final infection size
library(tidyverse)
SA2_files <- list.files("C:/Users/reubender/Downloads/SA3", full.names = TRUE)
tot_files <- SA2_files[!str_detect(SA2_files, "patchinf|patchsus|summary")]
sims <- read_csv(tot_files, col_names = c("t", "S", "I"), skip = 2, id = "sim")
sims <- sims |>
mutate(
beta = as.numeric(str_extract(sim, "(...)_.{3}_.{3}_.{1,3}.csv", group = 1)),
gamma = as.numeric(str_extract(sim, "(...)_.{3}_.{1,3}.csv", group = 1)),
mm = as.numeric(str_extract(sim, "(...)_.{1,3}.csv", group = 1)),
R0 = beta/gamma)
sims |>
ggplot() +
aes(x = t, y = I, col = mm, group = sim) +
geom_line() +
facet_wrap(~R0, scales = "free")
